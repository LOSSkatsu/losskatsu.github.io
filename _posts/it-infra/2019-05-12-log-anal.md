---
title: "[Infra] 로그 분석 - 로그를 읽는 기술 " 
categories:
  - it-infra
tags:
  - it-infra
use_math: true
toc: true
toc_label: "My Table of Contents"
toc_icon: "cog"
sidebar:
  title: "AI Machine Learning"
  nav: sidebar-contents
---

# 로그 분석

* 행 수 세기 : wc -l
* grep 결과 세기 : grep -c
* 오류가 있는지 확인 : grep -v

## 집약해서 갯수 세기 : uniq -c

매시간마다 요청수를 세는 방법은 로그에서 분초를 제외한 일 시 부분을 추출해서 동일한 것을 세면 된다. 
grep 으로 패턴에 맞는 부분만 추출 하려면 -o 옵션 사용. 
uniq -c 를 이용하면 센 개수와 일시가 함께 표시됨.

## 프로세스 치환

* 프로세스 치환 : 명령의 실행 결과를 파일로 다룰 수 있는 기능. 

ex1) file1, file2가 있고 각각 정렬한 결과의 차이를 diff로 조사하고자 할 때, 
다음과 같이 정렬한 결과를 다른 파일로 저장한 후 이것을 diff로 확인하면 간단함. 

```bash
$ sort file1 > file1.sorted
$ sort file2 > file2.sorted
$ diff file1.sorted file2.sorted
```

프로세스 치환을 이용하면 다음과 같이 한번에 실행 가능

```bash
$ diff <(sort file1) <(sort file2)
```
위와같이 "<" 같은 기법으로 명령의 실행 결과를 파일을 이용해 다른 명령으로 전달 할 수 있는데, 
