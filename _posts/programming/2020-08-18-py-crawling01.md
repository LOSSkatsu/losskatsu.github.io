---
title: "[python] 파이썬 웹 크롤링(1)" 
categories:
  - programming
tags:
  - programming
use_math: true
toc: true
toc_label: "My Table of Contents"
toc_icon: "cog"
sidebar:
  title: "AI Machine Learning"
  nav: sidebar-contents
---


# 파이썬 웹 크롤링(1) 

본 포스팅은 Web Scraping with Python by Ryan Mitchell을 참고하였습니다. 

## 1. 크롤링 할 때 해야할 것과 알아야 하는 것

크롤링(crawling)은 무엇을 하는 것일까요? 크롤링의 기본 메커니즘은 다음과 같습니다.

- 파이썬으로 웹서버에 정보 요청하기

- 서버 응답을 받은 후 데이터 핸들링

- 웹사이트와 상호작용

따라서 크롤링은 이용하면 인터넷을 돌아다니고, 정보를 모으고, 저장한 데이터를 다른 곳에 사용할 수도 있습니다. 
그렇다면 크롤링을 위해 알아야할 것은 무엇일까요? 

- HTML 데이터 가져오기

- 데이터 파싱(parsing)

- 타겟 정보 저장

- (옵션) 다른 페이지로 이동하기

크롤링을 위해서 알아야 할 것은 위와 같습니다. 그럼 이제부터 본격적으로 크롤링에 대해 알아보겠습니다. 


## 2. 크롤링의 시작

이번 챕터 부터는 간단한 크롤링을 해보겠습니다. 이번 챕터에서 할 일은 아래와 같습니다.

- 웹서버에 GET 요청 보내기(특정 페이지에 대해)

- HTML 아웃풋 읽기

- 내용 중에 자신이 원하는 내용 추출하기

아래와 같은 간단한 코드로 네이버 메인페이지의 내용을 요청해보겠습니다.

```python
>>> from urllib.request import urlopen
>>> html = urlopen("https://www.naver.com")
>>> print(html.read())
b'\n<!doctype html><html lang="ko" data-dark="false">
...중략...
```

위 코드는 네이버 메인페이지의 내용을 HTML 형식으로 가져오는 코드 입니다. 
가장 먼저 urllib 라이브러리에서 웹서버에 요청을 보내기 위해 필요한 함수를 불러오고 
urlopen을 이용해 원하는 사이트를 오픈한 결과를 읽어들여 html로 저장합니다. 
아웃풋 결과를 보면 HTML 코드라는 것을 알 수 있습니다.
만약 HTML 코드에 이미지 소스 파일이 있다면 어떨까요? 한번의 urlopen으로 이미지 파일 까지 가져올 수 있을까요? 
답은 그렇지 않다입니다. 현재까지는 한번의 크롤링으로는 HTML 파일 하나만 가지고 올 수 있으며 
HTML에 걸려있는 추가적인 이미지파일까지 랜더링하기 위해서는 추가적인 작업이 필요합니다. 
참고로 위에서 urllib 라이브러리를 사용했는데 만약 파이썬2 사용자라면 urllib2 라이브러리를 사용해야할 것입니다. 
urllib 라이브러리는 기본적인 라이브러리 이므로 따로 설치할 필요 없습니다. 

